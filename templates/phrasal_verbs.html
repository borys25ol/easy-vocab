<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phrasal Verbs Explorer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Скопируй сюда стили .lvl-a1, .lvl-a2 и т.д. из index.html */
        .verb-btn.active { background: #4f46e5; color: white; border-color: #4f46e5; }
    </style>
</head>
<body class="bg-slate-50 min-h-screen p-8">
    <div class="max-w-2xl mx-auto">
        <a href="/" class="text-sm font-bold text-slate-400 hover:text-indigo-600">← Back to Dashboard</a>

        <h1 class="text-3xl font-black text-slate-800 my-6">Phrasal Verbs <span class="text-indigo-600">Explorer</span></h1>

        <div id="verbSelector" class="flex flex-wrap gap-2 mb-10">
            <button onclick="loadPhrasal('get')" class="verb-btn px-6 py-2 rounded-xl border bg-white font-bold text-slate-600 hover:shadow-md transition-all">get</button>
            <button onclick="loadPhrasal('take')" class="verb-btn px-6 py-2 rounded-xl border bg-white font-bold text-slate-600 hover:shadow-md transition-all">take</button>
            <button onclick="loadPhrasal('look')" class="verb-btn px-6 py-2 rounded-xl border bg-white font-bold text-slate-600 hover:shadow-md transition-all">look</button>
            <button onclick="loadPhrasal('put')" class="verb-btn px-6 py-2 rounded-xl border bg-white font-bold text-slate-600 hover:shadow-md transition-all">put</button>
            <button onclick="loadPhrasal('go')" class="verb-btn px-6 py-2 rounded-xl border bg-white font-bold text-slate-600 hover:shadow-md transition-all">go</button>
            <button onclick="loadPhrasal('bring')" class="verb-btn px-6 py-2 rounded-xl border bg-white font-bold text-slate-600 hover:shadow-md transition-all">bring</button>
        </div>

        <div id="phrasalList" class="space-y-4">
            <p class="text-slate-400 italic text-center">Select a root verb to see your cards...</p>
        </div>
    </div>

    <script>
        async function loadPhrasal(root) {
            // Подсветка кнопок
            document.querySelectorAll('.verb-btn').forEach(b => b.classList.toggle('active', b.innerText === root));

            const response = await fetch(`/words/phrasal/${root}`);
            const words = await response.json();
            const list = document.getElementById('phrasalList');
            list.innerHTML = '';

            if (words.length === 0) {
                list.innerHTML = `<div class="p-10 text-center text-slate-400 bg-white rounded-2xl border-2 border-dashed">No cards found for "<b>${root}</b>". Add some in the main list!</div>`;
                return;
            }

            words.forEach(word => {
                // Используем ту же логику отрисовки карточки, что и на главной
                // Можно вынести отрисовку в отдельный JS файл, чтобы не дублировать код
                const card = document.createElement('div');
                card.className = `bg-white p-5 rounded-2xl shadow-sm border-l-8 border-indigo-500`; // Упростил для примера
                card.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div>
                            <h3 class="text-xl font-bold text-slate-800">${word.word}</h3>
                            <p class="text-indigo-600 font-bold">${word.translation}</p>
                            <div class="mt-4 text-sm text-slate-500 italic">${word.examples.split('\n')[0]}</div>
                        </div>
                        <span class="text-[10px] font-black px-2 py-1 bg-slate-100 rounded">${word.level}</span>
                    </div>
                `;
                list.appendChild(card);
            });
        }
    </script>
</body>
</html>